# ğŸ“– ä½¿ç”¨ç¤ºä¾‹

## ç¤ºä¾‹ 1ï¼šæŸ¥è¯¢åŸºæœ¬è´¦æˆ·ä¿¡æ¯

### æ­¥éª¤

1. **è·å– Token**
   
   è®¿é—® https://cursor.com/cn/dashboardï¼ŒæŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œåœ¨ Network æ ‡ç­¾ä¸­æ‰¾åˆ°ä»»æ„è¯·æ±‚ï¼Œå¤åˆ¶ Cookie ä¸­çš„ WorkosCursorSessionToken å€¼ã€‚

   ç¤ºä¾‹ Token æ ¼å¼ï¼š
   ```
   user_01K6VZ40GJ6KWWKEKJ6F0E4ET1%3A%3AeyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
   ```

2. **è¾“å…¥ Token**
   
   åœ¨æŸ¥è¯¢é¡µé¢çš„è¾“å…¥æ¡†ä¸­ç²˜è´´å®Œæ•´çš„ Token

3. **ç‚¹å‡»æŸ¥è¯¢**
   
   ç‚¹å‡»"æŸ¥è¯¢"æŒ‰é’®ï¼Œç­‰å¾…å‡ ç§’é’Ÿ

4. **æŸ¥çœ‹ç»“æœ**
   
   ç³»ç»Ÿä¼šæ˜¾ç¤ºï¼š
   - ç”¨æˆ· ID
   - è®¢é˜…çŠ¶æ€
   - è®¢é˜…è®¡åˆ’
   - è®¢é˜…é‡‘é¢
   - ä¸‹æ¬¡ç»­è´¹æ—¶é—´

---

## ç¤ºä¾‹ 2ï¼šæŸ¥çœ‹ä½¿ç”¨ç»Ÿè®¡

### æŸ¥è¯¢ç»“æœç¤ºä¾‹

```
ä½¿ç”¨ç»Ÿè®¡
â”œâ”€ å¿«é€Ÿè¯·æ±‚ï¼š1,234 æ¬¡
â”œâ”€ æ…¢é€Ÿè¯·æ±‚ï¼š56 æ¬¡
â””â”€ æ€»è¯·æ±‚ï¼š1,290 æ¬¡
```

### æ•°æ®è¯´æ˜

- **å¿«é€Ÿè¯·æ±‚**ï¼šå¿«é€Ÿå“åº”çš„ API è°ƒç”¨
- **æ…¢é€Ÿè¯·æ±‚**ï¼šéœ€è¦è¾ƒé•¿å¤„ç†æ—¶é—´çš„è¯·æ±‚
- **æ€»è¯·æ±‚**ï¼šæ‰€æœ‰è¯·æ±‚çš„æ€»å’Œ

---

## ç¤ºä¾‹ 3ï¼šæŸ¥çœ‹åŸå§‹æ•°æ®

ç‚¹å‡»"åŸå§‹æ•°æ®"éƒ¨åˆ†çš„"ç‚¹å‡»å±•å¼€æŸ¥çœ‹å®Œæ•´ JSON æ•°æ®"ï¼Œå¯ä»¥çœ‹åˆ°å®Œæ•´çš„ API è¿”å›æ•°æ®ï¼š

```json
{
  "stripe": {
    "userId": "user_01K6VZ40GJ6KWWKEKJ6F0E4ET1",
    "subscription": {
      "status": "active",
      "plan": "pro",
      "amount": 2000,
      "current_period_end": 1764911732
    },
    "customer": {
      "email": "user@example.com",
      "name": "ç”¨æˆ·å"
    }
  },
  "usage": {
    "fast_requests": 1234,
    "slow_requests": 56,
    "total_requests": 1290
  }
}
```

---

## å¸¸è§æŸ¥è¯¢åœºæ™¯

### åœºæ™¯ 1ï¼šæ£€æŸ¥è®¢é˜…æ˜¯å¦åˆ°æœŸ

æŸ¥çœ‹"ä¸‹æ¬¡ç»­è´¹"æ—¶é—´ï¼Œå¦‚æœæ¥è¿‘å½“å‰æ—¥æœŸï¼Œè¯´æ˜è®¢é˜…å³å°†åˆ°æœŸã€‚

### åœºæ™¯ 2ï¼šç›‘æ§ä½¿ç”¨é‡

å®šæœŸæŸ¥è¯¢ä½¿ç”¨ç»Ÿè®¡ï¼Œäº†è§£è‡ªå·±çš„ API ä½¿ç”¨æƒ…å†µï¼Œé¿å…è¶…å‡ºé™é¢ã€‚

### åœºæ™¯ 3ï¼šéªŒè¯è®¢é˜…çŠ¶æ€

åœ¨è´­ä¹°æˆ–ç»­è´¹åï¼ŒæŸ¥è¯¢ç¡®è®¤è®¢é˜…çŠ¶æ€æ˜¯å¦ä¸º "active"ã€‚

---

## API è°ƒç”¨ç¤ºä¾‹

å¦‚æœä½ æƒ³åœ¨è‡ªå·±çš„ç¨‹åºä¸­ä½¿ç”¨è¿™äº› APIï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹ä»£ç ï¼š

### JavaScript ç¤ºä¾‹

```javascript
// æŸ¥è¯¢è®¢é˜…ä¿¡æ¯
async function getStripeInfo(token) {
    const response = await fetch('https://your-domain.vercel.app/api/stripe', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({ token })
    });
    return await response.json();
}

// æŸ¥è¯¢ä½¿ç”¨ç»Ÿè®¡
async function getUsageStats(token) {
    const endDate = Date.now();
    const startDate = endDate - (30 * 24 * 60 * 60 * 1000);
    
    const response = await fetch('https://your-domain.vercel.app/api/usage', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({ 
            token,
            teamId: -1,
            startDate,
            endDate
        })
    });
    return await response.json();
}

// ä½¿ç”¨ç¤ºä¾‹
const token = 'your_token_here';
const [stripeData, usageData] = await Promise.all([
    getStripeInfo(token),
    getUsageStats(token)
]);

console.log('è®¢é˜…ä¿¡æ¯:', stripeData);
console.log('ä½¿ç”¨ç»Ÿè®¡:', usageData);
```

### Python ç¤ºä¾‹

```python
import requests
import time

def get_stripe_info(token):
    url = 'https://your-domain.vercel.app/api/stripe'
    response = requests.post(url, json={'token': token})
    return response.json()

def get_usage_stats(token):
    url = 'https://your-domain.vercel.app/api/usage'
    end_date = int(time.time() * 1000)
    start_date = end_date - (30 * 24 * 60 * 60 * 1000)
    
    payload = {
        'token': token,
        'teamId': -1,
        'startDate': start_date,
        'endDate': end_date
    }
    response = requests.post(url, json=payload)
    return response.json()

# ä½¿ç”¨ç¤ºä¾‹
token = 'your_token_here'
stripe_data = get_stripe_info(token)
usage_data = get_usage_stats(token)

print('è®¢é˜…ä¿¡æ¯:', stripe_data)
print('ä½¿ç”¨ç»Ÿè®¡:', usage_data)
```

---

## é”™è¯¯å¤„ç†

### é”™è¯¯ 1ï¼šToken æ— æ•ˆ

```
âŒ Cursor API è¿”å›é”™è¯¯: 401
```

**è§£å†³æ–¹æ³•**ï¼šé‡æ–°è·å– Token

### é”™è¯¯ 2ï¼šToken è¿‡æœŸ

```
âŒ æŸ¥è¯¢å¤±è´¥ï¼Œè¯·æ£€æŸ¥ Token æ˜¯å¦æ­£ç¡®
```

**è§£å†³æ–¹æ³•**ï¼šé‡æ–°ç™»å½• Cursorï¼Œè·å–æ–°çš„ Token

### é”™è¯¯ 3ï¼šç½‘ç»œé”™è¯¯

```
âŒ è¯·æ±‚å¤±è´¥
```

**è§£å†³æ–¹æ³•**ï¼šæ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œç¨åé‡è¯•

---

## æœ€ä½³å®è·µ

1. **å®šæœŸæ›´æ¢ Token**
   - å»ºè®®æ¯å‘¨é‡æ–°è·å–ä¸€æ¬¡ Token
   - ä¸è¦åœ¨å¤šä¸ªè®¾å¤‡å…±äº«åŒä¸€ä¸ª Token

2. **å®‰å…¨å­˜å‚¨**
   - ä¸è¦å°† Token åˆ†äº«ç»™ä»–äºº
   - ä¸è¦åœ¨å…¬å…±åœºæ‰€ä½¿ç”¨

3. **åˆç†ä½¿ç”¨**
   - é¿å…é¢‘ç¹æŸ¥è¯¢
   - æ ¹æ®éœ€è¦é€‰æ‹©æŸ¥è¯¢æ—¶é—´èŒƒå›´

4. **æ•°æ®å¤‡ä»½**
   - å®šæœŸå¯¼å‡ºåŸå§‹æ•°æ®ï¼ˆå¤åˆ¶ JSONï¼‰
   - ä¿å­˜å†å²æŸ¥è¯¢è®°å½•

---

## æŠ€å·§ä¸æç¤º

ğŸ’¡ **å¿«æ·é”®**ï¼šåœ¨è¾“å…¥æ¡†ä¸­æŒ‰ `Ctrl+A` å¯ä»¥å…¨é€‰ Token

ğŸ’¡ **æ¸…ç©ºæ•°æ®**ï¼šç‚¹å‡»"æ¸…ç©º"æŒ‰é’®å¯ä»¥æ¸…é™¤è¾“å…¥æ¡†å’Œä¿å­˜çš„ Token

ğŸ’¡ **æŸ¥çœ‹è¯¦æƒ…**ï¼šå±•å¼€"åŸå§‹æ•°æ®"å¯ä»¥çœ‹åˆ°æ‰€æœ‰è¿”å›çš„å­—æ®µ

ğŸ’¡ **å¤åˆ¶ç»“æœ**ï¼šåœ¨åŸå§‹æ•°æ®åŒºåŸŸï¼Œå¯ä»¥é€‰ä¸­å¹¶å¤åˆ¶ JSON æ•°æ®

---

éœ€è¦æ›´å¤šå¸®åŠ©ï¼ŸæŸ¥çœ‹ [README.md](./README.md) æˆ–æäº¤ [Issue](https://github.com/YOUR_USERNAME/cursor-usage-checker/issues)

