# Cursor è´¦å·ç®¡ç†å™¨ - ä½¿ç”¨æŒ‡å—

## ğŸ¯ åŠŸèƒ½è¯´æ˜

è¿™æ˜¯ä¸€ä¸ª Cursor è´¦å·ç®¡ç†å·¥å…·ï¼Œå¯ä»¥æŸ¥è¯¢è´¦å·çš„ï¼š
- âœ… è®¢é˜…çŠ¶æ€ï¼ˆä¼šå‘˜ç±»å‹ã€è¯•ç”¨å¤©æ•°ï¼‰
- âœ… ç”¨é‡è¯¦æƒ…ï¼ˆæœ€è¿‘30å¤©çš„è´¹ç”¨ï¼‰

**æŠ€æœ¯æ¶æ„ï¼š**
- å‰ç«¯ï¼šVue 3
- åç«¯ï¼šNode.js + Expressï¼ˆè§£å†³ CORS é—®é¢˜ï¼‰
- APIï¼šå®Œå…¨å‚è€ƒ Python `cursor_account_manager.py` çš„å®ç°

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1ï¸âƒ£ å¯åŠ¨åç«¯æœåŠ¡

```bash
# è¿›å…¥ server ç›®å½•
cd server

# å®‰è£…ä¾èµ–ï¼ˆé¦–æ¬¡è¿è¡Œï¼‰
npm install

# å¯åŠ¨æœåŠ¡
npm start
```

**åç«¯æœåŠ¡åœ°å€ï¼š** `http://localhost:3001`

### 2ï¸âƒ£ å¯åŠ¨å‰ç«¯åº”ç”¨

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
npm install   # é¦–æ¬¡è¿è¡Œ
npm run dev   # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```

**å‰ç«¯åœ°å€ï¼š** `http://localhost:5173`

---

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### æ–¹å¼ 1ï¼šé€šè¿‡ç•Œé¢æŸ¥è¯¢

1. æ‰“å¼€å‰ç«¯é¡µé¢ `http://localhost:5173`
2. åœ¨"è´¦å·ä¿¡æ¯æŸ¥è¯¢"åŒºåŸŸè¾“å…¥ `WorkosCursorSessionToken`
3. ç‚¹å‡»"ğŸš€ æŸ¥è¯¢ä¿¡æ¯"
4. æŸ¥çœ‹è®¢é˜…çŠ¶æ€å’Œç”¨é‡è´¹ç”¨

### æ–¹å¼ 2ï¼šå¯¼å…¥ JSON æ‰¹é‡ç®¡ç†

1. å‡†å¤‡ JSON æ–‡ä»¶ï¼ˆæ ¼å¼å‚è€ƒ `sample-data.json`ï¼‰
2. ç‚¹å‡»"å¯¼å…¥ JSON æ–‡ä»¶"
3. æŸ¥çœ‹æ‰€æœ‰è´¦å·åˆ—è¡¨
4. ä½¿ç”¨æœç´¢æ¡†è¿‡æ»¤è´¦å·

---

## ğŸ”‘ å¦‚ä½•è·å– Token

### æ–¹æ³• 1ï¼šæµè§ˆå™¨å¼€å‘è€…å·¥å…·

1. ç™»å½• https://cursor.com
2. æŒ‰ `F12` æ‰“å¼€å¼€å‘è€…å·¥å…·
3. åˆ‡æ¢åˆ° **Application** æ ‡ç­¾é¡µï¼ˆChromeï¼‰æˆ– **Storage** æ ‡ç­¾é¡µï¼ˆFirefoxï¼‰
4. å·¦ä¾§æ‰¾åˆ° **Cookies** â†’ `https://cursor.com`
5. æ‰¾åˆ° `WorkosCursorSessionToken`ï¼Œå¤åˆ¶å…¶å€¼

### æ–¹æ³• 2ï¼šæŠ“åŒ…å·¥å…·

ä½¿ç”¨ Fiddler/Charles æŠ“åŒ…ï¼ŒæŸ¥æ‰¾è¯·æ±‚å¤´ä¸­çš„ Cookieã€‚

---

## ğŸ“¡ API æ¥å£è¯´æ˜

### è®¢é˜…æ¥å£

**è¯·æ±‚ï¼š**
```bash
curl -X POST http://localhost:3001/api/check-stripe \
  -H "Content-Type: application/json" \
  -d '{"token": "your_token_here"}'
```

**å“åº”ç¤ºä¾‹ï¼š**
```json
{
  "membershipType": "pro",
  "daysRemainingOnTrial": null,
  "subscriptionStatus": "active"
}
```

### ç”¨é‡æ¥å£

**è¯·æ±‚ï¼š**
```bash
curl -X POST http://localhost:3001/api/check-usage \
  -H "Content-Type: application/json" \
  -d '{"token": "your_token_here"}'
```

**å“åº”ç¤ºä¾‹ï¼š**
```json
{
  "totalCostCents": 1250,
  "events": [...],
  "dateRange": {
    "start": "2024-09-07",
    "end": "2024-10-07"
  }
}
```

---

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### æ ¸å¿ƒå®ç°ï¼ˆå‚è€ƒ Python ä»£ç ï¼‰

**Python ç‰ˆæœ¬ï¼š**
```python
response = requests.get(
    url='https://www.cursor.com/api/auth/stripe',
    headers={'User-Agent': '...'},
    cookies={'WorkosCursorSessionToken': token},
    verify=False
)
```

**Node.js ç‰ˆæœ¬ï¼š**
```javascript
const response = await fetch('https://www.cursor.com/api/auth/stripe', {
  method: 'GET',
  headers: {
    'User-Agent': '...',
    'Cookie': `WorkosCursorSessionToken=${token}`
  }
})
```

### å…³é”®ç‰¹æ€§

- âœ… **å®Œå…¨å‚è€ƒ Python å®ç°**ï¼šè¯·æ±‚å¤´ã€Cookie å¤„ç†æ–¹å¼ä¸ Python ç‰ˆæœ¬ä¸€è‡´
- âœ… **åç«¯ä»£ç†**ï¼šè§£å†³æµè§ˆå™¨ CORS é™åˆ¶
- âœ… **åŒæ¥å£æ”¯æŒ**ï¼šè®¢é˜…ä¿¡æ¯ + ç”¨é‡è¯¦æƒ…
- âœ… **ç²¾ç®€ä»£ç **ï¼šç§»é™¤å†—ä½™é€»è¾‘ï¼Œä¿æŒç®€æ´

---

## ğŸ“ JSON æ•°æ®æ ¼å¼

```json
[
  {
    "email": "user@example.com",
    "auth_info": {
      "WorkosCursorSessionToken": "user_xxxxx"
    }
  }
]
```

å¯¼å…¥åå¯ä»¥æŸ¥çœ‹ï¼š
- ä¼šå‘˜ç±»å‹
- å‰©ä½™å¤©æ•°
- Token çŠ¶æ€
- ç”¨é‡è´¹ç”¨

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **Token æœ‰æ•ˆæœŸ**ï¼šToken å¯èƒ½ä¼šè¿‡æœŸï¼Œéœ€è¦å®šæœŸæ›´æ–°
2. **è¯·æ±‚é¢‘ç‡**ï¼šé¿å…çŸ­æ—¶é—´å†…å¤§é‡è¯·æ±‚
3. **éšç§å®‰å…¨**ï¼šToken æ˜¯æ•æ„Ÿä¿¡æ¯ï¼Œè¯·å‹¿æ³„éœ²
4. **åç«¯å¿…é¡»è¿è¡Œ**ï¼šå‰ç«¯è°ƒç”¨éœ€è¦åç«¯ä»£ç†æœåŠ¡

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: æç¤º"è¯·ç¡®ä¿ Token æœ‰æ•ˆä¸”åç«¯æœåŠ¡å·²å¯åŠ¨"

**è§£å†³ï¼š**
- æ£€æŸ¥åç«¯æ˜¯å¦è¿è¡Œï¼ˆ`http://localhost:3001/health`ï¼‰
- ç¡®è®¤ Token æ˜¯å¦æœ‰æ•ˆï¼ˆå¯ä»¥å…ˆåœ¨æµè§ˆå™¨ä¸­æ‰‹åŠ¨éªŒè¯ï¼‰

### Q2: åç«¯å¯åŠ¨å¤±è´¥

**è§£å†³ï¼š**
```bash
cd server
npm install   # é‡æ–°å®‰è£…ä¾èµ–
npm start     # é‡æ–°å¯åŠ¨
```

### Q3: å‰ç«¯æ— æ³•è¿æ¥åç«¯

**è§£å†³ï¼š**
- ç¡®è®¤åç«¯ç«¯å£æ˜¯ `3001`
- æ£€æŸ¥é˜²ç«å¢™æ˜¯å¦é˜»æ­¢
- æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

---

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ server/              # åç«¯ä»£ç†æœåŠ¡
â”‚   â”œâ”€â”€ proxy.js         # æ ¸å¿ƒä»£ç†é€»è¾‘
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ src/                 # å‰ç«¯æºç 
â”‚   â”œâ”€â”€ App.vue          # ä¸»åº”ç”¨
â”‚   â”œâ”€â”€ components/      # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ TokenChecker.vue  # Token æŸ¥è¯¢ï¼ˆæ ¸å¿ƒç»„ä»¶ï¼‰
â”‚   â”‚   â”œâ”€â”€ DataTable.vue
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ api.js       # API è°ƒç”¨å°è£…
â”œâ”€â”€ sample-data.json     # ç¤ºä¾‹æ•°æ®
â””â”€â”€ USAGE.md             # æœ¬æ–‡ä»¶
```

---

## ğŸ’¡ å¼€å‘å»ºè®®

1. **æŸ¥çœ‹æ—¥å¿—**ï¼šåç«¯æ§åˆ¶å°ä¼šè¾“å‡ºè¯¦ç»†çš„è¯·æ±‚æ—¥å¿—
2. **å‚è€ƒ Python**ï¼šæœ‰é—®é¢˜æ—¶å¯¹æ¯” `cursor_account_manager.py` çš„å®ç°
3. **ç®€åŒ–ä¼˜å…ˆ**ï¼šä¿æŒä»£ç ç®€æ´ï¼Œé¿å…è¿‡åº¦è®¾è®¡

---

**ç¥ä½¿ç”¨æ„‰å¿«ï¼** ğŸ‰

